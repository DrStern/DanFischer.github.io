<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ page.title | default: site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrapâ€¯Icons (tilesÂ + chatbot) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <!-- Siteâ€‘wide stylesheet -->
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

  <!-- Chatâ€‘widget skin (add toâ€¯custom.css later if you wish) -->
  <style>
  /* CHATBOT Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­Â­------------------------------------------------- */
  .chat-float{
    position:fixed;
    bottom:1.75rem;
    right:1.75rem;
    width:56px;height:56px;
    background:#b86036;
    color:#fff;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:1.5rem;
    box-shadow:0 3px 12px rgba(0,0,0,.3);
    z-index:1200;
  }
  .chat-float:hover{background:#9e522d}

  .chat-window{
    position:fixed;
    bottom:100px;
    right:1.5rem;
    width:320px;
    max-height:450px;
    background:#fff;
    border-radius:.75rem;
    box-shadow:0 4px 16px rgba(0,0,0,.25);
    display:flex;
    flex-direction:column;
    overflow:hidden;
    z-index:1200;
    transform:scale(0);
    transform-origin:bottom right;
    transition:transform .25s ease;
  }
  .chat-window.open{transform:scale(1)}

  .chat-header{
    background:#003b67;
    color:#fff;
    font-weight:700;
    padding:.75rem 1rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .chat-header button{background:none;border:none;color:#fff;font-size:1.25rem;cursor:pointer}

  .chat-messages{
    flex:1 1 auto;
    padding:.75rem 1rem;
    overflow-y:auto;
    font-size:.9rem;
    background:#f4f6f8;
  }

  .chat-input{display:flex;border-top:1px solid #dee2e6}
  .chat-input input{
    flex:1 1 auto;
    border:none;
    padding:.5rem .75rem;
    font:inherit;
  }
  .chat-input input:focus{outline:none}
  .chat-input button{
    background:#004f91;
    color:#fff;
    border:none;
    padding:.5rem .9rem;
    cursor:pointer;
    transition:background .2s;
  }
  .chat-input button:hover{background:#003b67}
  </style>
</head>

<body>

<!-- PRIMARY NAVIGATION -->
<nav class="navbar">
  <!-- Home / logo link -->
  <a href="{{ '/' | relative_url }}" class="home-link">61stÂ DistrictÂ Court</a>

  <!-- Main menu -->
  <ul class="nav-menu">
    <!-- About the Court -->
    <li>
      <a href="#">About the Court</a>
      <ul class="dropdown">
        <li><a href="{{ '/mission-vision/'     | relative_url }}">Missionâ€¯&â€¯Vision</a></li>
        <li><a href="{{ '/newsroom/'           | relative_url }}">Newsroom</a></li>
        <li><a href="{{ '/role-in-michigan-courts/' | relative_url }}">Role in Michigan Courts</a></li>
        <li><a href="{{ '/jurisdiction-map/'   | relative_url }}">Jurisdictionâ€¯&â€¯Map</a></li>
        <li><a href="{{ '/staff-directory/'    | relative_url }}">StaffÂ Directory</a></li>
        <li><a href="#">Annual Reports</a></li>
        <li><a href="#">Careersâ€¯&â€¯Internships</a></li>
      </ul>
    </li>

    <!-- Case Types -->
    <li>
      <a href="#">CaseÂ Types</a>
      <ul class="dropdown">
        <li><a href="#">Criminal</a></li>
        <li><a href="#">Traffic / Civil Infractions</a></li>
        <li><a href="#">GeneralÂ Civil</a></li>
        <li><a href="#">SmallÂ Claims</a></li>
        <li><a href="#">Landlordâ€“Tenant</a></li>
        <li><a href="#">Landâ€‘ContractÂ Forfeiture</a></li>
      </ul>
    </li>

    <!-- Online Services -->
    <li>
      <a href="#">Onlineâ€¯Services</a>
      <ul class="dropdown">
        <li><a href="{{ '/record-search/' | relative_url }}">Caseâ€¯Lookup</a></li>
        <li><a href="#">OnlineÂ Payments</a></li>
        <li><a href="#">VirtualÂ Hearings</a></li>
        <li><a href="#">HearingÂ Calendar</a></li>
      </ul>
    </li>

    <!-- Forms & Resources -->
    <li>
      <a href="#">Formsâ€¯&â€¯Resources</a>
      <ul class="dropdown">
        <li><a href="#">FormsÂ Library</a></li>
        <li><a href="#">Feeâ€¯Schedule</a></li>
        <li><a href="#">Selfâ€‘HelpÂ Center</a></li>
        <li><a href="#">FAQs</a></li>
        <li><a href="#">Local Administrative Orders</a></li>
        <li><a href="#">ADAâ€¯&â€¯LanguageÂ Access</a></li>
        <li><a href="#">RelatedÂ Links</a></li>
      </ul>
    </li>

    <!-- Juror Info -->
    <li>
      <a href="#">JurorÂ Info</a>
      <ul class="dropdown">
        <li><a href="#">JuryÂ DutyÂ Overview</a></li>
        <li><a href="#">ReportingÂ Instructions</a></li>
        <li><a href="#">Jurorâ€¯FAQ</a></li>
        <li><a href="#">OrientationÂ Video</a></li>
      </ul>
    </li>

    <!-- Probation -->
    <li>
      <a href="#">Probation</a>
      <ul class="dropdown">
        <li><a href="#">ProbationÂ Overview</a></li>
        <li><a href="#">OfficerÂ Directory</a></li>
        <li><a href="#">Problemâ€‘SolvingÂ Courts</a></li>
        <li><a href="#">AlternativeÂ Sentencing</a></li>
      </ul>
    </li>

    <!-- Contact & Location -->
    <li>
      <a href="#">Contactâ€¯&â€¯Location</a>
      <ul class="dropdown">
        <li><a href="#">Addressâ€¯&â€¯Map</a></li>
        <li><a href="#">Hoursâ€¯&â€¯Holidays</a></li>
        <li><a href="#">PhoneÂ Directory</a></li>
        <li><a href="#">PublicÂ RecordsÂ Requests</a></li>
      </ul>
    </li>
  </ul>
</nav>

<!-- MAIN CONTENT -->
<main>
  {{ content }}
</main>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-grid">
    <div>
      <p class="mt-4">180Â OttawaÂ AveÂ NW<br>GrandÂ Rapids,â€¯MIÂ 49503</p>
      <p>Monâ€¯â€“â€¯FriÂ Â 8â€¯AMâ€¯â€“â€¯5â€¯PM</p>
    </div>

    <div>
      <a href="#" class="d-block mb-2">Privacy</a>
      <a href="#" class="d-block">Accessibility</a>
    </div>

    <div>
      <img src="{{ '/assets/img/logo.png' | relative_url }}"
           alt="61stâ€¯Districtâ€¯Court logo"
           class="footer-logo">
    </div>
  </div>
</footer>

<!-- Chatbot floater (always on screen) -->
<a href="#" class="chat-float" id="chatToggle" aria-label="Open chat">
  <i class="bi bi-chat-dots-fill"></i>
</a>

<!-- Chat overlay -->
<div class="chat-window" id="chatWindow" aria-live="polite">
  <div class="chat-header">
    VirtualÂ Assistant
    <button id="chatClose" aria-label="Close chat">&times;</button>
  </div>

  <div class="chat-messages" id="chatMessages">
    <p><strong>ðŸ¤–â€¯Assistant:</strong> Hi!Â How can I help you?</p>
  </div>

  <form class="chat-input" id="chatForm">
    <input type="text" id="chatInput"
           placeholder="Type your messageâ€¦" autocomplete="off" required>
    <button type="submit">Send</button>
  </form>
</div>

<!-- Minimal chatâ€‘window logic -->
<script>
(function () {
  const toggleBtn = document.getElementById('chatToggle');
  const chatWin   = document.getElementById('chatWindow');
  const closeBtn  = document.getElementById('chatClose');
  const form      = document.getElementById('chatForm');
  const input     = document.getElementById('chatInput');
  const msgs      = document.getElementById('chatMessages');

  function toggle () {
    chatWin.classList.toggle('open');
    if (chatWin.classList.contains('open')) input.focus();
  }

  toggleBtn.addEventListener('click', e => { e.preventDefault(); toggle(); });
  closeBtn.addEventListener('click', toggle);

  form.addEventListener('submit', e => {
    e.preventDefault();
    const text = input.value.trim();
    if (!text) return;

    msgs.insertAdjacentHTML('beforeend',
      `<p><strong>ðŸ™‹â€¯You:</strong> ${text}</p>`);
    msgs.scrollTop = msgs.scrollHeight;
    input.value = '';

    /* demo reply â€” replace with real API call later */
    setTimeout(() => {
      msgs.insertAdjacentHTML('beforeend',
        `<p><strong>ðŸ¤–â€¯Assistant:</strong> I'm a demo for now, but we'll chat soon!</p>`);
      msgs.scrollTop = msgs.scrollHeight;
    }, 600);
  });
})();
</script>

</body>
</html>
